default_version: 'TOSCA'
default_settings: ["Backward"]
default_model: 'AbINS'

version:
    TFXA:
        constants:
            final_neutron_energy: 32.0  # Final energy on the crystal analyser in cm-1
            scattering_angle: 2.356  # Angle of the crystal analyser radians (NO LONGER USED)
            energy_bin_width: 1.0  # Default bin width in wavenumber
            primary_flight_path: 12.13  # m
            primary_flight_path_uncertainty: 0.0021  # m
            water_moderator_constant: 44  # us
            time_channel_uncertainty: 2  # us
            sample_thickness: 0.002  # m
            graphite_thickness: 0.002  # m
            detector_thickness: 0.006  # m
            sample_width: 0.02  # m
            detector_width: 0.012  # m
            graphite_analyser_mosaic: 2.5  # deg
            crystal_plane_spacing: 3.348e-10  # m
        settings:
            Backward:
                angles: [ 134.98885653282196 ]
                average_secondary_flight_path: 0.671  # m
                average_final_energy: 3.909  # meV
                average_bragg_angle_graphite: 43.  # deg
        models:
            book:
                function: "tosca_book"
                parameters: []
    TOSCA1:
        constants:
            final_neutron_energy: 32.0  # Final energy on the crystal analyser in cm-1
            scattering_angle: 2.356  # Angle of the crystal analyser radians (NO LONGER USED)
            energy_bin_width: 1.0  # Default bin width in wavenumber
            primary_flight_path: 12.264  # m
            primary_flight_path_uncertainty: 0.0021  # m
            water_moderator_constant: 44  # us
            time_channel_uncertainty: 2  # us
            sample_thickness: 0.002  # m
            graphite_thickness: 0.002  # m
            detector_thickness: 0.0025  # m
            sample_width: 0.02  # m
            detector_width: 0.012  # m
            graphite_analyser_mosaic: 2.5  # deg
            crystal_plane_spacing: 3.348e-10  # m
        settings:
            Backward:
                angles: [ 134.98885653282196 ]
                average_secondary_flight_path: 0.7456  # m
                average_final_energy: 3.51  # meV
                average_bragg_angle_graphite: 46.03  # deg
        models:
            book:
                function: "tosca_book"
                # parameters: sample thickness, graphite thickness, detector thickness, uncertainty in primary flight path,
                #             sample width, detector width, mosaic of graphite analyser, ISIS water moderator constant,
                #             time channel uncertainty, PRIMARY FLIGHT PATH, AVERAGE SECONDARY FLIGHT PATH,
                #             AVERAGE FINAL ENERGY, AVERAGE BRAGG ANGLE FOR GRAPHITE, CHANGE IN AVG BRAGG
                parameters: [ 0.002, 0.002, 0.0025, 0.0021, 0.02, 0.012, 2.5, 44, 2, 12.264, 0.7456, 3.51, 46.03, 5.0814852427945665 ]
    TOSCA:
        constants:
            final_neutron_energy: 32.0  # Final energy on the crystal analyser in cm-1
            scattering_angle: 2.356  # Angle of the crystal analyser radians (NO LONGER USED)
            energy_bin_width: 1.0  # Default bin width in wavenumber
            primary_flight_path: 17.  # m
            primary_flight_path_uncertainty: 0.0021  # m
            water_moderator_constant: 44  # us
            time_channel_uncertainty: 2  # us
            sample_thickness: 0.002  # m
            graphite_thickness: 0.002  # m
            detector_thickness: 0.0025  # m
            sample_width: 0.04  # m
            detector_width: 0.12  # m
            graphite_analyser_mosaic: 2.5  # deg
            crystal_plane_spacing: 3.348e-10  # m
        settings:
            Backward:
                angles: [ 134.98885653282196 ]
                average_secondary_flight_path: 0.6279  # m
                average_final_energy: 3.32  # meV
                average_bragg_angle_graphite: 47.73  # deg
            Forward:
                angles: [ 45.0 ]
                average_secondary_flight_path: 0.6279  # m
                average_final_energy: 3.35  # meV
                average_bragg_angle_graphite: 47.45  # deg
            All detectors:
                angles: [ 45.0, 134.98885653282196 ]
        models:
            AbINS:
                # TOSCA parameters for resolution function
                # sigma = tosca_a * omega * omega + tosca_b * omega + tosca_c
                # where sigma is width of Gaussian function
                function: "polynomial"
                #original_parameters: [2.5, 0.005, 0.0000001] wavenumber
                parameters: [ 0.3099604960830007, 0.005, 8.065543937349209e-07 ]  # meV
            book:
                function: "tosca_book"
                parameters:
                    Backward:
                      [ 0.002, 0.002, 0.0025, 0.0021, 0.04, 0.12, 2.5, 44, 2, 17, 0.6279, 3.32, 47.73, 17.439366410966983 ]
                    Forward:
                      [ 0.002, 0.002, 0.0025, 0.0021, 0.04, 0.12, 2.5, 44, 2, 17, NONE, 3.35, 47.45, 17.59374274222979 ]
            vision:
                function: "vision_paper"
                citation: "https://doi.org/10.1016/j.nima.2009.03.204"
                parameters:
                    d_r: 12.9e-6
    VISION:
        constants:
            primary_flight_path: 15.  # m
            sample_thickness: 0.002  # m
            detector_thickness: 0.003  # m
            sample_width: 0.04  # m
            detector_width: 0.005  # m
            crystal_plane_spacing: 3.348e-10  # m
        settings:
            Backward:
                angles: []
                distance_sample_analyzer: 0.26  # m
                average_bragg_angle_graphite: 45.  # deg
        models:
            vision:
                function: "vision_paper"
                citation: "https://doi.org/10.1016/j.nima.2009.03.204"
                parameters:
                    d_r: 11.6e-6
